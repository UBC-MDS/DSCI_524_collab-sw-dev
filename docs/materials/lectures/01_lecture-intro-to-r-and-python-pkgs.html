
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lecture 1: Introduction to R &amp; Python packages &#8212; DSCI 524 Collaborative Software Development</title>
    
  <link rel="stylesheet" href="../../_static/css/index.73d71520a4ca3b99cfee5594769eaaae.css">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/sphinx-book-theme.2d2078699c18a0efb88233928e1cf6ed.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.3da636dd464baa7582d2.js">

    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/sphinx-book-theme.be0a4a0c39cd630af62a2fcf693f3f06.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Lecture 2: Introduction &amp; my goodness more git!" href="02_lecture-intro-more-git.html" />
    <link rel="prev" title="DSCI 524: Collaborative Software Development" href="../../README.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../../index.html">
  
  
  <h1 class="site-logo" id="site-title">DSCI 524 Collaborative Software Development</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../README.html">
   DSCI 524: Collaborative Software Development
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Lectures
 </span>
</p>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Lecture 1: Introduction to R &amp; Python packages
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="02_lecture-intro-more-git.html">
   Lecture 2: Introduction &amp; my goodness more git!
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="03_lecture-code-review-and-testing.html">
   Lecture 3: Code reviews, testing and advice for testing complex things
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="04_lecture-debugging-and-docs.html">
   Lecture 4: Code coverage &amp; package dependencies
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="05_lecture-continuous-integration-and-github-actions.html">
   Lecture 5: Introductions to Continuous Integration (CI) &amp; GitHub Actions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="06_lecture-cd-semver-and-docs.html">
   Lecture 6: Introductions to Continuous Development (CD), package documentation &amp; publishing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="07_lecture-pypi-cran-and-pkg-review.html">
   Lecture 7: Peer review of packages, and the package repositories/indices CRAN and PyPI
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="08_lecture-who-owns-the-code-and-how-can-I-use-it.html">
   Lecture 8: Who owns the code? And how can I use it?
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Assignments
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../assignments/milestone1.html">
   Milestone 1
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../assignments/milestone2.html">
   Milestone 2
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../assignments/milestone3.html">
   Milestone 3
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../assignments/milestone4.html">
   Milestone 4
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../assignments/individual_assignment1.html">
   Individual assignment 1
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../assignments/individual_assignment2.html">
   Individual assignment 2
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../assignments/peer_review.html">
   Peer review: Constructively reviewing packages
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../assignments/team_work.html">
   Team project reflection
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Appendices
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../appendices/appendix.html">
   Appendix
  </a>
 </li>
</ul>

</nav>

 <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    
    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/materials/lectures/01_lecture-intro-to-r-and-python-pkgs.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
    
</div>
        <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.ubc.ca/MDS-2020-21/DSCI_524_collab-sw-dev_students"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.ubc.ca/MDS-2020-21/DSCI_524_collab-sw-dev_students/issues/new?title=Issue%20on%20page%20%2Fmaterials/lectures/01_lecture-intro-to-r-and-python-pkgs.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#learning-objectives">
   Learning objectives:
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#when-to-start-writing-an-r-or-python-package">
   When to start writing an R or Python package
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tour-de-packages">
   Tour de packages
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tour-de-python-packages">
   Tour de Python packages
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#poetry-and-the-evolution-of-python-packaging">
     Poetry and the evolution of Python packaging
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#learn-more-by-building-a-toy-python-package">
     Learn more by building a toy Python package
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tour-de-r-packages">
   Tour de R packages
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#usethis-and-the-evolution-of-r-packaging">
     {usethis} and the evolution of R packaging
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#learn-more-by-building-a-toy-r-package">
     Learn more by building a toy R package
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#key-package-things-for-python-and-r-packages">
   Key package things for Python and R packages
  </a>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="lecture-1-introduction-to-r-python-packages">
<h1>Lecture 1: Introduction to R &amp; Python packages<a class="headerlink" href="#lecture-1-introduction-to-r-python-packages" title="Permalink to this headline">¶</a></h1>
<div class="section" id="learning-objectives">
<h2>Learning objectives:<a class="headerlink" href="#learning-objectives" title="Permalink to this headline">¶</a></h2>
<p>By the end of this lecture, students should be able to:</p>
<ul class="simple">
<li><p><a class="reference external" href="#When-to-start-writing-an-R-or-Python-package">Explain the circumstances in which one should consider creating a package for their code</a></p></li>
<li><p><a class="reference external" href="#On-going-lecture-exercise">Name the key files and directories in both R &amp; Python pacakges and describe the function of each</a></p></li>
<li><p><a class="reference external" href="#The-Whole-Game-in-Python-(30-min)">Given a function and a unit test written in Python, use a Cookiecutter template and <code class="docutils literal notranslate"><span class="pre">poetry</span></code> to create a small and simple Python package</a></p></li>
<li><p><a class="reference external" href="#The-Whole-Game-in-R-(30-min)">Given a function and a unit test written in R, use <code class="docutils literal notranslate"><span class="pre">devtools</span></code> and <code class="docutils literal notranslate"><span class="pre">usethis</span></code> to create a small and simple R package</a></p></li>
</ul>
</div>
<div class="section" id="when-to-start-writing-an-r-or-python-package">
<h2>When to start writing an R or Python package<a class="headerlink" href="#when-to-start-writing-an-r-or-python-package" title="Permalink to this headline">¶</a></h2>
<p>When your DRY radar goes off:</p>
<blockquote>
<div><p>It depends on your level of patience for violating the DRY principle, for me the magic number is about 3. If I repeat writing code within a single script or notebook, on the third try hair starts to stand up on the back of my neck and I am irritated sufficiently to either write a funciton or a loop. The same goes with copying files containing functions that I would like to re-use. The third time that I do this, I am convinced that I will likely want to use this code again on another project and thus I should package it to make my life easier.</p>
</div></blockquote>
<p>When you think your code has general usefullness others could benefit from:</p>
<blockquote>
<div><p>Another reason to package your code is that you think that it is a general enough solution that other people would find it useful. Doing this can be viewed as an act of altruism that also provides you professional gain by putting your data science skills on display (and padding your CV!).</p>
</div></blockquote>
<p>When you want to share data:</p>
<blockquote>
<div><p>The R package ecosystem has found great use in packaging data in addition to Software. Packaging data is beyond the scope of this course, but you should know that it is widely done in R and that you can do it if you want or need to.</p>
</div></blockquote>
<p>Let’s watch a video from rstudio::conf 2020, called RMarkdown Driven Development by Emily Riederer, because I think it is such a nice narrative on how analysis code can evolve into packages:</p>
<p><a class="reference external" href="https://rstudio.com/resources/rstudioconf-2020/rmarkdown-driven-development/">https://rstudio.com/resources/rstudioconf-2020/rmarkdown-driven-development/</a></p>
</div>
<div class="section" id="tour-de-packages">
<h2>Tour de packages<a class="headerlink" href="#tour-de-packages" title="Permalink to this headline">¶</a></h2>
<p>We will spend some time now exploring GitHub repositories of some Python and R packages to get more familiar with their internals. As we do this, fill out the missing data in the table below (which tries to match up the corresponding R and Python package key files and directories):</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Description</p></th>
<th class="head"><p>Python</p></th>
<th class="head"><p>R</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Online package repository or index</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>Directory for user-facing package functions</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>Directory for tests for user-facing package functions</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>Directory for documentation</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>Package metadata</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>File(s) that define the Namespace</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>Tool(s) for easy package creation</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<blockquote>
<div><p>Note: at the end of lecture I will review the answers to this table.</p>
</div></blockquote>
</div>
<div class="section" id="tour-de-python-packages">
<h2>Tour de Python packages<a class="headerlink" href="#tour-de-python-packages" title="Permalink to this headline">¶</a></h2>
<p>Some Python packages you may want to explore:</p>
<ol class="simple">
<li><p><a class="reference external" href="https://github.com/ttimbers/pypkgs_tt2021"><code class="docutils literal notranslate"><span class="pre">pypkgs_tt2021</span></code></a> - the end product of <a class="reference external" href="https://py-pkgs.org/03-how-to-package-a-python">How to Package a Python</a> from the Python Packages book</p></li>
<li><p><a class="reference external" href="https://github.com/ttimbers/convertempPy"><code class="docutils literal notranslate"><span class="pre">convertempPy</span></code></a> - a simple example package I built as a demo for this course</p></li>
<li><p><a class="reference external" href="https://github.com/UNCG-DAISY/PyWebCAT"><code class="docutils literal notranslate"><span class="pre">PyWebCAT</span></code></a> - a Pythonic way to interface with the NOAA National Ocean Service Web Camera Applications Testbed (WebCAT)</p></li>
<li><p><a class="reference external" href="https://github.com/yannvgn/laserembeddings"><code class="docutils literal notranslate"><span class="pre">laserembeddings</span></code></a> - a Python package (uses the Poetry approach to creating Python packages)</p></li>
<li><p><a class="reference external" href="https://github.com/pandera-dev/pandera"><code class="docutils literal notranslate"><span class="pre">pandera</span></code></a> - a reviewed PyOpenSci Python package (uses more traditional approach to creating Python packages)</p></li>
</ol>
<div class="section" id="poetry-and-the-evolution-of-python-packaging">
<h3>Poetry and the evolution of Python packaging<a class="headerlink" href="#poetry-and-the-evolution-of-python-packaging" title="Permalink to this headline">¶</a></h3>
<p>If you want to package your Python code and distribute for ease of use by others on the Python Packaging Index (PyPI) you need to convert it to a standard format called Wheel.</p>
<p>Previously, to do this it was standard to have 4 configuration files in your package repository:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">setup.py</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setup.cfg</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MANIFEST.in</span></code></p></li>
</ul>
<p>In 2016, a new PEP (<a class="reference external" href="https://www.python.org/dev/peps/pep-0518/">518</a>) was made. This PEP defined a new configuration format, <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code>, so that now a single file can be used in place of those previous four. This file must have at least two sections, <code class="docutils literal notranslate"><span class="pre">[build-system]</span></code> and <code class="docutils literal notranslate"><span class="pre">[tool]</span></code>.</p>
<p>This new single configuration file has inspired some new tools to be created in the package building and management ecosystem in Python. One of the most recent and simplest to use is Poetry (created in 2018). When used to build packages, Poetry roughly does two things:</p>
<ol class="simple">
<li><p>Uses the <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> to manage and solve package configurations via the Poetry commands <code class="docutils literal notranslate"><span class="pre">init</span></code>, <code class="docutils literal notranslate"><span class="pre">add</span></code>, <code class="docutils literal notranslate"><span class="pre">config</span></code>, etc</p></li>
<li><p>Creates a lock file (<code class="docutils literal notranslate"><span class="pre">poetry.lock</span></code>) which automatically creates and activates a virtual environment (if none are activated) where the Poetry commands such as <code class="docutils literal notranslate"><span class="pre">install</span></code>, <code class="docutils literal notranslate"><span class="pre">build</span></code>, <code class="docutils literal notranslate"><span class="pre">run</span></code>, etc are executed.</p></li>
</ol>
<p>Cookiecutter templates are also useful to help setup the biolerplate project and directory structure needed for packages. We will use these in this course as well.</p>
</div>
<div class="section" id="learn-more-by-building-a-toy-python-package">
<h3>Learn more by building a toy Python package<a class="headerlink" href="#learn-more-by-building-a-toy-python-package" title="Permalink to this headline">¶</a></h3>
<p>For invidividual assignment 1, you will build a toy Python package using a tutorial we have put together for you: <a class="reference external" href="https://py-pkgs.org/03-how-to-package-a-python">How to package a Python</a></p>
<p>After building the toy package, read <a class="reference external" href="https://py-pkgs.org/04-package-structure">Package structure and state</a> to deepen your understanding of what packaging means in Python and what packages actually are.</p>
</div>
</div>
<div class="section" id="tour-de-r-packages">
<h2>Tour de R packages<a class="headerlink" href="#tour-de-r-packages" title="Permalink to this headline">¶</a></h2>
<p>Some R packages you may want to explore:</p>
<ol class="simple">
<li><p><a class="reference external" href="https://github.com/jennybc/foofactors"><code class="docutils literal notranslate"><span class="pre">foofactors</span></code></a> - the end product of <a class="reference external" href="https://r-pkgs.org/whole-game.html">the Whole Game Chapter</a> from the R Packages book.</p></li>
<li><p><a class="reference external" href="https://github.com/ttimbers/convertempr"><code class="docutils literal notranslate"><span class="pre">convertempr</span></code></a> - a simple example package I built as a demo for this course</p></li>
<li><p><a class="reference external" href="https://github.com/tidymodels/broom"><code class="docutils literal notranslate"><span class="pre">broom</span></code></a> - a tidyverse R package</p></li>
<li><p><a class="reference external" href="https://github.com/ropensci/tidyhydat"><code class="docutils literal notranslate"><span class="pre">tidyhydat</span></code></a> - a reviewed ROpenSci R package</p></li>
</ol>
<div class="section" id="usethis-and-the-evolution-of-r-packaging">
<h3>{usethis} and the evolution of R packaging<a class="headerlink" href="#usethis-and-the-evolution-of-r-packaging" title="Permalink to this headline">¶</a></h3>
<p>What constitutes an R package or its configuration files, has not changed in a long time. However the tools commonly used to build them have. Currently, the most straight forward, and easy way to build R packages now involves the use of two developer packages called {usethis} and {devtools}.</p>
<div class="figure align-default" id="usethis-devtools">
<a class="reference internal image-reference" href="../../_images/usethis-devtools.png"><img alt="../../_images/usethis-devtools.png" src="../../_images/usethis-devtools.png" style="height: 400px;" /></a>
<p class="caption"><span class="caption-number">Fig. 1 </span><span class="caption-text">{usethis} and {devtools} R packages</span><a class="headerlink" href="#usethis-devtools" title="Permalink to this image">¶</a></p>
</div>
<p>These packages automate repetitive tasks that arise during project setup and development. It prevents you from having to do things like manually create boiler plate file and directory structures needed for building your R package structure, as well as simplifies the checking, installation and building of your package from source code.</p>
<p>Packages created via {usethis} and {devtools} can be shared so that they can be installed via source from GitHub, or as package binaries on CRAN. For a package to be shared on CRAN, there is a check and gatekeeping system (in contrast to PyPI). We will learn more about this in later parts of the course.</p>
<blockquote>
<div><p>Fun fact! Jenny Bryan, MDS founder, is the maintainer for the {usethis} R package!</p>
</div></blockquote>
</div>
<div class="section" id="learn-more-by-building-a-toy-r-package">
<h3>Learn more by building a toy R package<a class="headerlink" href="#learn-more-by-building-a-toy-r-package" title="Permalink to this headline">¶</a></h3>
<p>For invidividual assignment 2, you will build a toy R package using a tutorial Jenny Bryan put together: <a class="reference external" href="https://r-pkgs.org/whole-game.html">The Whole Game</a></p>
<p>After building the toy package, read <a class="reference external" href="https://r-pkgs.org/package-structure-state.html">Package structure and state</a> to deepen your understanding of what packaging means in R and what packages actually are.</p>
</div>
</div>
<div class="section" id="key-package-things-for-python-and-r-packages">
<h2>Key package things for Python and R packages<a class="headerlink" href="#key-package-things-for-python-and-r-packages" title="Permalink to this headline">¶</a></h2>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Description</p></th>
<th class="head"><p>Python</p></th>
<th class="head"><p>R</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Online package repository or index</p></td>
<td><p>PyPI</p></td>
<td><p>CRAN</p></td>
</tr>
<tr class="row-odd"><td><p>Directory for user-facing package functions</p></td>
<td><p>Package directory (a named directory within the project root that contians <code class="docutils literal notranslate"><span class="pre">.py</span></code> files and a <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> file)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">R</span></code> directory</p></td>
</tr>
<tr class="row-even"><td><p>Directory for tests for user-facing package functions</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">tests</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">tests/testthat</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Directory for documentation</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">docs</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">man</span></code> and <code class="docutils literal notranslate"><span class="pre">vignettes</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Package metadata</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">DESCRIPTION</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>File(s) that define the Namespace</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">__init__.py</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NAMESPACE</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Tool(s) for easy package creation</p></td>
<td><p>Cookiecutter &amp; Poetry</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">usethis</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">devtools</span></code></p></td>
</tr>
</tbody>
</table>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./materials/lectures"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="../../README.html" title="previous page">DSCI 524: Collaborative Software Development</a>
    <a class='right-next' id="next-link" href="02_lecture-intro-more-git.html" title="next page">Lecture 2: Introduction &amp; my goodness more git!</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Tiffany Timbers<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../../_static/js/index.3da636dd464baa7582d2.js"></script>


    
  </body>
</html>